<div class="modal-header">
	<h3>Network 생성</h3>
</div>

<form name="form" class="form-validation" novalidate ng-submit="submit(network)">

	<div class="modal-body">
		<div>
	         <ol class="breadcrumb-alt"  >
	             <li><a href="javascript:;" ng-class="{active : stage == 'step1' }" ng-click="setStage('step1')">네트워크</a></li>
	             <li><a href="javascript:;" ng-class="{active : stage == 'step2'  }" ng-click="setStage('step2')">서브넷</a></li>
	             <li><a href="javascript:;"ng-class="{active : stage == 'step3'  }" ng-click="setStage('step3')">서브넷 세부정보</a></li>
	             <li><a >&nbsp;</a></li>
	         </ol>
         </div>
         
		<fieldset>
			
			<div ng-show="stage == 'step1'" class="col-md-11">
			
				<div class="form-group">
	
					<div class="form-control-wrapper">
						<label for="name" data-i18n="이름" ></label>
						<input type="text"
							name="name"
							class="form-control"
							ng-model="network.name"
							placeholder="이름"
							maxlength="100"
							/>
	
						<div ng-show="form.name.$error.required" data-i18n="필수 필드입니다."></div>
					</div>
					
					<div class="form-control-wrapper">
						<label for="admin_state_up" data-i18n="관리자 상태" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="admin_state_up"
							class="form-control margin-top-0"
							ng-model="network.admin_state_up"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="shared" data-i18n="공유" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="shared"
							class="form-control margin-top-0"
							ng-model="network.shared"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="router_external" data-i18n="외부 네트워크" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="router_external"
							class="form-control margin-top-0"
							ng-model="network['router:external']"
							/>
					</div>
					
				</div><!-- // form-group -->
			</div>
			
			<div ng-show="stage == 'step2'" class="col-md-11">
				<div class="form-group">
	
					
					<div class="form-control-wrapper">
						<label for="create_subnet" data-i18n="서브넷 생성" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="create_subnet"
							class="form-control margin-top-0"
							ng-model="network.create_subnet"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="subnet_name" data-i18n="서브넷 이름" ></label>
						<input type="text"
							name="subnet_name"
							class="form-control"
							ng-model="network.subnet_name"
							placeholder="서브넷 이름"
							maxlength="100"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="subnet_name" data-i18n="네트워크 주소" ></label>
						<input type="text"
							name="cidr"
							class="form-control"
							ng-model="network.cidr"
							placeholder="CIDR 포맷의 네트워크 주소 (예, 192.168.0.0/24)"
							maxlength="100"
							ng-required="network.create_subnet"
							ng-pattern="cidr_pattern"
						/>
						<div ng-show="form.cidr.$error.required" data-i18n="필수 필드입니다."></div>
						<div ng-show="form.cidr.$error.pattern" data-i18n="CIDR 포맷의 네트워크 주소를 입력해주세요 (예, 192.168.0.0/24)"></div>
					</div>
					
					<div class="form-control-wrapper">
						<label for="ip_version" data-i18n="IP 버전" ></label>
						<select
							id="ip_version"
							name="ip_version"
							class="form-control"
							ng-model="network.ip_version"
							ng-change="changeIpVersion()">
							<option value="4" selected>IPv4</option>
							<option value="6">IPv6</option>
						</select>
					</div>

					
					<div class="form-control-wrapper">
						<label for="gateway_ip" data-i18n="게이트웨이 IP" ></label>
						<input type="text"
							name="gateway_ip"
							class="form-control"
							ng-model="network.gateway_ip"
							placeholder="게이트웨이 IP"
							maxlength="100"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="no_gateway" data-i18n="게이트웨이 비활성" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="no_gateway"
							class="form-control margin-top-0"
							ng-model="network.no_gateway"
							/>
					</div>
					
				</div><!-- // form-group -->
			</div>
			
			
			<div ng-show="stage == 'step3'" class="col-md-11">
				<div class="form-group">
	
					
					<div class="form-control-wrapper">
						<label for="enable_dhcp" data-i18n="DHCP 사용" class="margin-bottom-0"></label>
						<input type="checkbox"
							name="enable_dhcp"
							class="form-control margin-top-0"
							ng-model="network.enable_dhcp"
							/>
					</div>
					
					<div class="form-control-wrapper">
						<label for="allocation_pools" data-i18n="Pools 할당" ></label>
						<div>
							<h6 class="margin-top-0 margin-bottom-5">
							 IP 주소 허용 pools. 각 항목은 &lt;start_ip_addres&gt;,&lt;end_id_address&gt; <br/>
							 (예, 192.168.1.100,192.168.1.120) 한줄 하나씩 입력합니다.  
							 </h6>
						</div>
						<textarea 
							name="allocation_pools"
							class="form-control"
							ng-model="network.allocation_pools_text"
							ng-pattern="pool_pattern"
							></textarea>
						
						<div ng-show="form.allocation_pools.$error.pattern" data-i18n="포맷에 맞게 입력해주세요"></div>
					</div>
					<br/>
					
					<div class="form-control-wrapper">
						<label for="dnsserver" data-i18n="DNS 네임 서버" ></label>
						<div>
							  <h6  class="margin-top-0 margin-bottom-5">
							  	이 서브넷에 대한 DNS 네임 서버의 IP 주소 목록입니다. 한 줄에 하나의 항목입니다.
							  </h6>
						</div>
						<textarea 
							name="dns_nameservers"
							class="form-control"
							ng-model="network.dns_nameservers_text"
							ng-pattern="dns_pattern"
							></textarea>
						
						<div ng-show="form.dns_nameservers.$error.pattern" data-i18n="포맷에 맞게 입력해주세요"></div>
					</div>
					<br/>
					
					<div class="form-control-wrapper">
						<label for="host_routes" data-i18n="호스트 라우터" ></label>
						<div>
							<h6  class="margin-top-0 margin-bottom-5">
							  호스트에 통보되는 추가 루트. 각 항목은 &lt;destination_cidr&gt;,&lt;nexthop&gt; 
							  <br/>(예: 192.168.200.0/24, 10.56.1.254)형식으로 한 줄에 한 항목을 기입합니다.  
							</h6>
						</div>	
						<textarea 
							name="host_routes"
							class="form-control"
							ng-model="network.host_routes_text"
							ng-pattern="router_pattern"
							></textarea>
						<div ng-show="form.host_routes.$error.pattern" data-i18n="포맷에 맞게 입력해주세요"></div>
					</div>
					

					
				</div><!-- // form-group -->
			</div>
		</fieldset><!-- // fieldset -->

	</div><!-- // modal-body -->

	<div class="modal-footer">

		<button type="button"
			class="btn btn-warning"
			ng-click="cancel()"
			data-i18n="취소"></button>


		<button type="submit" 
			class="btn btn-primary"
			ng-disabled="!canSubmit()"
			>{{stage=='step3'? '생성': '다음'}}</button>

	</div><!-- // modal-footer -->

</form><!-- // form -->